
[1mLeyenda de colores[0m
 [31m[RED][0m Punto de entrada / main
 [34m[BLUE][0m CreaciÃ³n / inserciÃ³n de nodos
 [32m[GREEN][0m Consulta / conversiÃ³n / lectura
 [33m[ORANGE][0m LiberaciÃ³n / cleanup
 [35m[PURPLE][0m Helpers / static (local)
 [90m[GRAY][0m Dependencias externas

[1mDiagrama de funciones (Ã¡rbol de llamadas)[0m

[31mmain(argc, argv, envp) [RED][0m
 â”œâ”€ calls â†’ [90msetup_signals()[0m
 â”œâ”€ calls â†’ [90minit_shell_name(&shell, argv)[0m
 â”œâ”€ calls â†’ [90mrun_shell_modes(argc, argv, envp, &shell)[0m
 â””â”€ calls â†’ [90mcleanup_shell(&shell)[0m

[34menv_create(key, value, exported) [BLUE][0m
 â””â”€ uses â†’ [90mft_strdup(key)[0m
 uses â†’ [90mft_strdup(value) (si value != NULL)[0m

[34menv_add_back(t_env **env, t_env *new) [BLUE][0m
 â””â”€ acciÃ³n: recorre lista con while (tmp->next) tmp = tmp->next;

[35mcreate_exported_env_var(str, &env) [PURPLE] (static)[0m
 â”œâ”€ uses â†’ [90mft_strchr(str, =)[0m
 â”œâ”€ uses â†’ [90mft_substr(...)[0m
 â”œâ”€ calls â†’ [34menv_create(key, sep + 1, 1)[0m
 â”œâ”€ calls â†’ [34menv_add_back(env, new)[0m
 â””â”€ on error â†’ calls [33mfree_env_list(*env)[0m

[34minit_env_list(envp) [BLUE][0m
 â”œâ”€ recorre envp[]; si strchr(=) -> llama a create_exported_env_var
 â””â”€ devuelve -> t_env * (lista creada)

[35menv_count(t_env *env) [PURPLE] (static)[0m
 â””â”€ cuenta nodos con env->exported == 1

[35mjoin_key_value(key, value) [PURPLE] (static)[0m
 â”œâ”€ uses â†’ [90mft_strjoin(key, "=")[0m
 â”œâ”€ uses â†’ [90mft_strjoin(tmp, value)[0m
 â””â”€ libera intermedio (free(tmp))

[32menv_to_array(t_env *env) [GREEN][0m
 â”œâ”€ calls â†’ [35menv_count(env)[0m
 â”œâ”€ uses â†’ [90mft_calloc(size + 1, sizeof(char *))[0m
 â”œâ”€ for each exported node â†’ calls [35mjoin_key_value(key, value)[0m
 â””â”€ on error â†’ uses [90mft_free_strtab(env_array)[0m

[33mfree_env_list(t_env *env) [ORANGE][0m
 â””â”€ acciÃ³n: while (env) { tmp = env->next; free(env->key); free(env->value); free(env); env = tmp; }

[32mget_env_value(t_shell *shell, const char *key) [GREEN][0m
 â”œâ”€ valida parÃ¡metros
 â”œâ”€ recorre shell->env
 â””â”€ compara con [90mft_strcmp(env->key, key)[0m â†’ devuelve env->value si coincide

[90mDependencias externas (usadas)[0m
 ft_strdup, ft_substr, ft_strchr, ft_strjoin, ft_calloc, ft_free_strtab, ft_strcmp, malloc, free

[1mFunciones que NO aparecen llamadas (en los fragmentos entregados)[0m
 - [32menv_to_array[0m
 - [32mget_env_value[0m

